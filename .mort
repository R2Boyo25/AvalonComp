[default]
out = "mortar"
oarg = [
    "-Ofast",
    "-std=c++17"
]
l = [
    "pthread"
]
com = "g++"

[_default]
inherits = "default"
oarg = [
    "-DDOCTEST_CONFIG_DISABLE"
]
 
[_debug]
inherits = "default"
oarg = [
    "-g",
    "-DDOCTEST_CONFIG_INCLUDE_TYPE_TRAITS",
    "-DDOCTEST_CONFIG_NO_UNPREFIXED_OPTIONS"
]

[test]
type = "command"
target = "_debug"
command = "./mortar -dt-e"

[test_success]
type = "command"
target = "_debug"
command = "./mortar -dt-e -dt-s"

[debug_gdb]
type = "command"
target = "_debug"
command = "gdb ./mortar -ex run"

[debug]
type = "command"
target = "_debug"
command = "./mortar"

[[deps]]
url = "https://github.com/doctest/doctest"
cpath = "doctest"
ipath = "doctest"
exclude = ["extensions", "BUILD.bazel"]

[[deps]]
url = "https://github.com/muellan/clipp"
cpath = "include"
ipath = "clipp"